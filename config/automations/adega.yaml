- alias: when_the_door_of_adega_is_opened
  trigger:
    - platform: state
      entity_id: binary_sensor.door_adega_contact
      from: 'off'
      to: 'on'
      for: '00:00:10'
  action:
    - service: script.speech_engine
      data_template:
        media_player: {{speaker('socialroom')}}
        custom_message: >
          {{random_speech('adega_open')}}
        call_no_random: 1
    - service: automation.turn_on
      entity_id: automation.when_the_door_of_adega_is_closed

- alias: when_the_door_of_adega_is_closed
  initial_state: 'off'
  trigger:
    - platform: state
      entity_id: binary_sensor.door_adega_contact
      from: 'on'
      to: 'off'
      for: '00:00:03'
  action:
    - service: script.speech_engine
      data_template:
        media_player: {{speaker('socialroom')}}
        custom_message: >
          {{random_speech('adega_close')}}
        call_no_random: 1
    - service: automation.turn_off
      entity_id: automation.when_the_door_of_adega_is_closed
